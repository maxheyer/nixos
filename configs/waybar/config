{
  "layer": "top",
  "position": "top",
  "exclusive": true,
  "margin-top": 0,
  "margin-bottom": 0,
  "margin-left": 0,
  "margin-right": 0,
  "height": 26,
  "modules-left": [
    "group/hardware",
    "custom/netusage",
    "custom/kubernetes"
  ],
  "modules-center": [
    "clock"
  ],
  "modules-right": [
    "pulseaudio",
    "backlight",
    "battery",
    "niri/language",
    "tray",
    "custom/lock"
  ],
  "group/hardware": {
    "orientation": "horizontal",
    "modules": [
      "cpu",
      "memory",
      "temperature"
    ]
  },
  "temperature": {
    "thermal-zone": 1,
    "format": "{temperatureC}°C",
    "critical-threshold": 80,
    "format-critical": "{temperatureC}°C "
  },
  "custom/netusage": {
    "format": "{}",
    "interval": 1,
    "exec": "bash -lc 'iface=enp6s0; st=/run/user/$(id -u)/.netusage_$iface; rx=$(cat /sys/class/net/$iface/statistics/rx_bytes 2>/dev/null) || { echo \"no iface\"; exit 0; }; tx=$(cat /sys/class/net/$iface/statistics/tx_bytes 2>/dev/null) || { echo \"no iface\"; exit 0; }; now=$(date +%s); if [ -r \"$st\" ]; then read pt prx ptx < \"$st\"; dt=$((now-pt)); [ $dt -lt 1 ] && dt=1; dr=$((rx-prx)); du=$((tx-ptx)); [ $dr -lt 0 ] && dr=0; [ $du -lt 0 ] && du=0; down=$((dr/dt)); up=$((du/dt)); else down=0; up=0; fi; printf \"%s %s %s\\n\" \"$now\" \"$rx\" \"$tx\" > \"$st\"; printf \"▼ %dKB  ▲ %dKB\\n\" $((down/1024)) $((up/1024))'"
  },
  "memory": {
    "interval": 2,
    "format": "{percentage}% "
  },
  "cpu": {
    "interval": 2,
    "format": "{usage}% "
  },
  "custom/kubernetes": {
    "exec": "kubectl config current-context",
    "format": "{} 󱃾",
    "interval": 1,
    "tooltip": true
  },
  "tray": {
    "icon-size": 13,
    "spacing": 16
  },
  "clock": {
    "timezone": "Europe/Berlin",
    "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
    "format": "{:%H:%M %a %h %d}"
  },
  "backlight": {
    "device": "amdgpu_bl1",
    "format": "{percent}% {icon}",
    "format-icons": [
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      ""
    ]
  },
  "battery": {
    "interval": 30,
    "states": {
      "warning": 20,
      "critical": 10
    },
    "format": "{capacity}% {icon}",
    "format-charging": "{capacity}% 󰂄",
    "format-plugged": "{capacity}% ",
    "format-icons": [
      "󰂎",
      "󰁺",
      "󰁻",
      "󰁼",
      "󰁽",
      "󰁾",
      "󰁿",
      "󰂀",
      "󰂁",
      "󰂂",
      "󰁹"
    ]
  },
  "pulseaudio": {
    "format": "{volume}% {icon}",
    "format-muted": "Mute  ",
    "format-icons": {
      "default": [
        "",
        "",
        ""
      ]
    },
    "on-click": "wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle",
    "on-click-right": "pavucontrol"
  },
  "custom/lock": {
    "tooltip": false,
    "on-click": "swaylock &",
    "format": ""
  },
  "niri/language": {
    "format": "{short}",
    "on-click": "niri msg action switch-layout next"
  }
}
